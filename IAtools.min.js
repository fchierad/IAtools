var IAtools=function(){function e(e){var t,a,n,l={data:[],display:[]};if(null==e||""==e||"string"!=typeof e)return console.log("readAllPicklistOptions: invalid parameter passed. Please pass a string with the field's name as it appears in Designer"),l;if(n="_"+e,null!=(t=document.getElementById(n))&&t.id===n?"select"==String(t.tagName).toLowerCase()?a=t.getElementsByTagName("option"):console.log("readAllPicklistOptions: Field "+e+" is not a picklist. Element found was: "+t.tagName):console.log("readAllPicklistOptions: could not find field "+e+" on this current form."),null!=a&&a.length>0)for(var r=0;r<a.length;r++)null!=a[r].getAttribute("value")&&a[r].getAttribute("value").length>0&&null!=a[r].textContent&&a[r].textContent.length>0&&(l.data.push(a[r].getAttribute("value")),l.display.push(a[r].textContent));return l}var t="IAtools",a={init:function(e,t,a){null!=e&&(n.field=e),null!=t&&(n.form=t),null!=a&&(n.IDVault=a)},version:function(){return"0.0.2"},fieldVisibility:function(e,t){var a=String(e.getCustomData());switch(a.toLowerCase()){case"show":t.show();break;case"hide":t.hide();break;default:console.log("Field: "+t.getLabel()+", Event: "+e.getEventName()+", Invalid option received: "+a)}},tabCtrlFactory:function(){function e(e,t){if(null==e||null==t)return!1;var n,l,r=t.split(/_/)[0],o=document.getElementById(r);if(!o)return!1;for(l=o.getElementsByClassName(i.navitem),n=0;n<l.length;n++)-1!==l[n].className.indexOf(i.navactive)&&(l[n].className=l[n].className.replace(i.navactive,"").replace(/\s+/g," "),a(l[n].id,"hide"));return e.currentTarget.className=e.currentTarget.className.replace(/\s+$/g,"")+" "+i.navactive,a(e.currentTarget.id,"show"),!0}function a(e,t){if(!n.hasOwnProperty("field"))return!1;if(null==e||"show"!==t&&"hide"!==t)return!1;var a=e.split(/_/)[1],l={show:"enter",hide:"leave"};return r.hasOwnProperty(a)&&r[a].hasOwnProperty("fieldlist")&&r[a].fieldlist instanceof Array&&r[a].fieldlist.forEach(function(e){var i;o.hasOwnProperty(e)&&(i=o[e],n.field.fireEvent(i,t)),r[a].hasOwnProperty("callback")&&r[a].callback(a,l[t])}),!0}var l={addTab:function(e,t,a,n,l){if(null==e||""===e||null==t||null==a||null==n)return!1;if(!(n instanceof Array)){if("string"!=typeof n)return!1;n=[n]}return e=e.replace(/_/g,""),!r[e]&&(r[e]={name:String(t),order:Number(a),fieldlist:n},"function"==typeof l&&(r[e].callback=l),!0)},removeTab:function(e){return null!=e&&""!==e&&(e=e.replace(/_/g,""),!!r[e]&&delete r[e])},setCSSClassName:function(e,t){return null!=e&&null!=t&&!!i.hasOwnProperty(e)&&(i[e]=t,!0)},setFieldEventName:function(e,t){return null!=e&&null!=t&&(o[String(e)]=String(t),!0)},getSampleCSS:function(){return"<style>."+i.navbar+"{list-style-type:none;margin:0;padding:0;overflow:hidden}."+i.navbar+" li{float:left}."+i.navbar+" li a {display:block;padding:8px 16px}."+i.navitem+"{color:#000000;background-color:#E3E1DC;border-top-left-radius:16px;border-top-right-radius:6px}."+i.navbar+" li a:hover{color:#ED7420;backgroung-color:#B0A9A1}."+i.navactive+"{color:#00BCE7;background-color:#484B4D;border-top-left-radius:16px;border-top-right-radius:6px}a."+i.navactive+"{color:#00BCE7;background-color:#484B4D;border-top-left-radius:16px;border-top-right-radius:6px}</style>"},getTabHTML:function(n,l){if(null==n)return!1;var o,s,c,d=function(a){var n=String(a)+"activateTab";return window[t]||(window[t]={}),window[t].dynamic||(window[t].dynamic={}),window[t].dynamic[n]=e,t+".dynamic."+n}(n);return o='<ul id="'+n+'" class="'+i.navbar+'">',s=Object.keys(r).sort(function(e,t){return r[e].order-r[t].order}),c=!0,s.forEach(function(e){var t,l=n+"_"+e,s=d+"( event, '"+l+"' )";c?(t=i.navitem+" "+i.navactive,a(l,"show"),c=!1):(t=i.navitem,a(l,"hide")),o+='<li><a href="javascript:void(0)" id="'+l+'" class="'+t+'" onclick="'+s+'">'+r[e].name+"</a></li>"}),o+="</ul>"}},r={},i={navbar:"cc-navbar",navitem:"cc-navitem",navactive:"cc-navactive"},o={};return l},readAllPicklistOptions:e,picklistFnFactory:function(t,a,l){return function(r,i,o){var s={},c={data:[],display:[]},d={data:[],display:[]},u=!1,f=[],p=[],v=[],g="",m="",y=!0;if((null==r||""==r||r.length<1)&&(y=!1,console.log("Need a selection to act upon")),null!=i&&""!=i||(y=!1,console.log("srcFieldName not provided")),"remove"===t||null!=o&&""!=o||(y=!1,console.log("destFieldName not provided")),!y)return!1;if(r instanceof Array||(r=[r]),c=e(i),s[i]={data:c.data.slice(),display:c.display.slice()},"remove"!==t&&(d=e(o),s[o]={data:d.data.slice(),display:d.display.slice()}),r.forEach(function(e){-1!==(g=s[i].data.indexOf(e))&&("add"!==t&&(s[i].data.splice(g,1),s[i].display.splice(g,1),u=!0),"remove"!==t&&(-1===(m=s[o].data.indexOf(e))?(s[o].data.push(c.data[g]),s[o].display.push(c.display[g]),u=!0):(v.push(d.data[m]),u=!0)))}),u&&(f=s[i].data,p=[],a?("function"==typeof l?f.sort(l):f.sort(),f.forEach(function(e){var t=c.data.indexOf(e);p.push(c.display[t])}),s[i].display=p):p=s[i].display,n.form.setValues(i,f,p),"remove"!==t&&(f=s[o].data.slice(),p=[],a?("function"==typeof l?f.sort(l):f.sort(),f.forEach(function(e){var t=s[o].data.indexOf(e);p.push(s[o].display[t])}),s[o].data=f.slice(),s[o].display=p.slice()):p=s[o].display.slice(),n.form.setValues(o,f,p),v.length>0)))try{n.form.select(o,v)}catch(e){console.log("Failed select() action against field "+o+", value(s) "+v.join(",")),console.log("error message: "+e.message)}return!0}}},n={};return a}();